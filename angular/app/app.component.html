<!DOCTYPE html>
<html>

<body>
	<div class="headerPage">
		<a href="" class="logo"><img src="" alt="" /></a>
		<div class="header-right">
			<a class="active" href=""></a> <a href=""></a>
		</div>
	</div>
	<div class="row">
		<div class="m-t-1">
			<table *ngIf="hideSelected">
				<tr>
					<td><label for="Origin">Origin</label></td>
					<td><input id="origin_input" list="origin_list" type="text" name="originpath" required="required"
							[(ngModel)]="originpath" [formControl]="queryField" class="form-control">
						<datalist id="origin_list">
							<option *ngFor="let result of term?.locations" [value]="result?.code | lowercase">
								{{result?.name | json}}
								{{result?.description | json}}
							</option>
						</datalist>
					</td>

					<td><label for="Destination">Destination</label></td>
					<td><input type="text" list="destination_list" name="destination" required="required"
							[(ngModel)]="destination" [formControl]="queryField1" class="form-control"></td>
					<datalist id="destination_list">
						<option *ngFor="let result of term?.locations" [value]="result?.code | lowercase">
							{{result?.name | json}}
							{{result?.description | json}}
						</option>
					</datalist>
					<td><a href="#" (click)="ShowButton()">Show Airports </a></td>
				</tr>
				<tr>
					<td>
						<button class="btn btn-primary" (click)="doGetFare()">Calculate</button>
					</td>
					
				</tr>
			</table>
			<table>
			<tr>
					<td *ngIf="(fare | json)">The Fare for Flight from {{fare?.origin | json}} to {{fare?.destination | json}}
						is {{fare?.currency | json}} {{fare?.amount | json}}</td>
				</tr>
			</table>

			<div class="airlines" *ngIf="showSelected" >
			<table >
				<tr>
					<td><label for="Search">Search Airports</label></td>
					<td><input id="seacrh_input" type="text" name="originpath" required="required" [(ngModel)]="searchAirport"
							[formControl]="queryField" class="form-control">
					</td>
					<td><a href="#" (click)="HideButton()">Show Search </a></td>
				</tr>
			</table>
			
			<thead>
				<tr>
					<th>S NO.</th>
					<th>Code</th>
					<span class="glyphicon sort-icon" *ngIf="key =='code'"
						[ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
					<th (click)="sort('name')">Name</th>
					<span class="glyphicon sort-icon" *ngIf="key =='name'"
						[ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
					<th (click)="sort('genre')">Description</th>
					<span class="glyphicon sort-icon" *ngIf="key =='desc'"
						[ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let result of allairresults?.locations | orderBy: key : reverse | filter:searchAirport| paginate:
				 { itemsPerPage: 5, currentPage: p }; let i = index">
					<li>{{i}}</li>
					<td>{{result.code}}</td>
					<td>{{result.name}}</td>
					<td>{{result.description}}</td>
				</tr>
			</tbody>
			<pagination-controls (pageChange)="p = $event"></pagination-controls>
			</div>
			
		</div>
	</div>
</body>

</html>
